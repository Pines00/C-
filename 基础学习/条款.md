#### 条款

##### 2

对于单纯常量最好以const对象或enums替换#defines 

对于形似函数的宏macros，最好改用inline（内联函数，具体看书）函数替换#defines

##### 3.const

* 如果const出现在星号左边表示所指物是常量；如果出现在星号右边表示指针自身是常量。

  如果出现在星号两边表示所指物和指针都是常量。

  ```c++
  char greeting[]= "hello";
  char *p =greeting;
  const char *p = greeting;
  char *const p=greeting;
  const char *const p =greeting;
  
  void f1(const Widget *pw)
  void f2(Widget const *pw)
  两种写法相同，都表示指向一个不变的widget对象
  ```

* const 用于迭代器

  迭代器就是一个T*指针。声明迭代器为const就像声明指针为const一样， T *const 表示这个迭代器不得指向不同东西，但所指之物是可以改动的。如果希望所指的东西不可以改变，需要一个const_iterator

  ```c++
  std::vector<int> vec;
  const std::vector<int>::iterator iter=vec.begin(); //iter作用相当于T *const
  *iter = 10;//所指之物可改变，但是迭代器不能改变
  ++iter;//这样是错误，指针常量不可改变
  std::vector<int>::const_iterstor cIter=vec.begin();
  *cIter=10;//这样是错误的，因为const所指物是个常量不能改变。
  ++cIter;
  ```

* const用于函数声明时

  const 可以和函数返回值、各参数、函数自身产生关联。令函数返回一个常量值，可以降低因客户错误而造成的意外，而又不至于放弃安全性和高效性。

  ````c++
  example:
  class Rational{...};
  const Rational operator* (const Rational& lhs,const Rational &rhs);
  可以避免(a*b)=c这种无脑赋值，这样的函数返回值就毫无意义，一般函数返回值不需要改变，就加上const就行。
  ````

  

